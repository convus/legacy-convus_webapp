%h1
  New assertion

.form-wrapper
  = form_for @assertion, url: assertions_path, method: "POST", html: { class: "form mt-4 mb-4" } do |f|
    - if @assertion.errors.any?
      = render partial: "/shared/errors", locals: { name: "Assertion", obj: @assertion }
    .form-group
      = f.label :title, "Assertion text"
      = f.text_area :title, class: "form-control"
    .form-group
      %label.form-check-label
        = f.check_box :has_direct_quotation, class: "form-check-input"
        Direct quotation

    %h3 Assertion citation
    = f.fields_for :citations_attributes do |nested_form|
      .form-group
        = nested_form.label :title, "Citation title"
        = nested_form.text_field :title, class: "form-control"
      .form-group
        = nested_form.label :url, "URL"
        = nested_form.text_field :url, class: "form-control"
      .form-group
        = nested_form.label :publication_name, "Publication"
        = nested_form.text_field :publication_name, class: "form-control"
      .form-group
        = nested_form.label :assignable_kind, "Source kind"
        = nested_form.select :assignable_kind, Citation.assignable_kinds.map { |k| [k.humanize.to_s, k] }, {}, { class: "form-control" }
      .form-group
        %label.form-check-label
          = nested_form.check_box :url_is_direct_link_to_full_text, class: "form-check-input"
          URL is a direct link to the full text of the article
      .form-group
        = nested_form.label :authors do
          Authors
          %em.less-strong new line delineated
        = nested_form.text_area :authors, placeholder: "optional", class: "form-control"
      -#.form-group
      -#  = nested_form.label :published_at
      -#    Published date
      -#    %small.less-strong
      -#      optional
      -#  = nested_form.text_area :published_at, placeholder: "optional", class: "form-control"

    .form-group
      = submit_tag "Submit for review", class: "btn btn-primary", style: "margin-left: .5rem;"
