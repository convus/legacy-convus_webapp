- hypotheses ||= @hypotheses
- skip_citations ||= false
- skip_citation_id ||= nil
- link_to_edit ||= false

.full-screen-table
  %table.table.table-striped.table-sm.table-bordered
    %thead
      %th
        Hypothesis
      %th.d-none.d-md-table-cell
        Citation
      %th.d-none.d-md-table-cell
        Created
    %tbody
      - search_tags = @search_tags || []
      - hypotheses.each do |hypothesis|
        %tr
          %td
            = hypothesis.title
            .score-bubble.small{ class: hypothesis_score_class(hypothesis.score) }
              = hypothesis.score
            - if link_to_edit
              = link_to "edit", edit_hypothesis_path(hypothesis.id), class: "internal-link"
            - else
              = link_to internal_link_text, hypothesis_path(hypothesis.to_param), class: "internal-link"
            - hypothesis.tags.each do |tag|
              = link_to tag.title, hypotheses_path(sortable_search_params.merge(search_array: (search_tags + [tag.title]))), class: "tag-bubble small"

          %td.d-none.d-md-table-cell
            - citation = hypothesis.citations.each do |citation|
              - next if citation.id == skip_citation_id
              .d-block.small
                - if citation.publication.present? && !citation.publication.title_url?
                  #{citation.publication.title}:
                %em
                  = citation.title.truncate(75)

          %td.d-none.d-md-table-cell
            %small.convertTime
              = l hypothesis.created_at, format: :convert_time
